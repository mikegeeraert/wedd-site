<div class="flex-container">
  <ng-container *ngIf="dataSource | async as households; else loading">
    <table mat-table [dataSource]="households" class="full-width">
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Family </th>
        <td mat-cell *matCellDef="let household"> {{household.name}} </td>
      </ng-container>
      <ng-container matColumnDef="first">
        <th mat-header-cell *matHeaderCellDef>  </th>
        <td mat-cell *matCellDef="let household"> {{formatFirstNames(household.members)}} </td>
      </ng-container>
      <ng-container matColumnDef="response">
        <th mat-header-cell *matHeaderCellDef> Response </th>
        <td mat-cell *matCellDef="let household"> {{formatResponseDate(household.response)}} </td>
      </ng-container>
      <!--&lt;!&ndash; Expanded Content Column - The detail row is made up of this one column that spans across all columns &ndash;&gt;-->
      <!--<ng-container matColumnDef="expandedDetail">-->
        <!--<td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplay.length">-->
          <!--<div class="example-element-detail"-->
               <!--[@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'">-->
            <!--<div class="example-element-diagram">-->
              <!--<div class="example-element-position"> {{element.position}} </div>-->
              <!--<div class="example-element-symbol"> {{element.symbol}} </div>-->
              <!--<div class="example-element-name"> {{element.name}} </div>-->
              <!--<div class="example-element-weight"> {{element.weight}} </div>-->
            <!--</div>-->
            <!--<div class="example-element-description">-->
              <!--{{element.description}}-->
              <!--<span class="example-element-description-attribution"> &#45;&#45; Wikipedia </span>-->
            <!--</div>-->
          <!--</div>-->
        <!--</td>-->
      <!--</ng-container>-->
      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let household; columns: displayedColumns;"></tr>
    </table>
  </ng-container>
  <ng-template #loading>
    <mat-spinner class="table-loading"></mat-spinner>
  </ng-template>
</div>
